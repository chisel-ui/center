---
import { getSizeValue } from '@chisel-ui/core'
import './Center.css'
import type { CSSLength, LayoutProps, SizesOptions } from '@chisel-ui/core'

export type MaxWidth = number | CSSLength | SizesOptions

export interface ColumnsProps extends LayoutProps {
    maxWidth?: MaxWidth
    centerText?: boolean
    centerContent?: boolean
}

const { as: Tag = 'div', maxWidth, centerText = false, centerContent = false, style = '', ...props } = Astro.props as ColumnsProps

const safeMaxWidth = typeof maxWidth === 'number' && maxWidth > 0
    ? `${maxWidth}px`
    : getSizeValue(theme, maxWidth) ?? maxWidth

const attrValue = [
    centerText && 'text',
    centerContent && 'content'
].filter(Boolean).join(' ')
---

<Tag data-chisel-center={attrValue} style={`--maxWidth: ${safeMaxWidth};${style}`} {...props}>
    <slot />
</Tag>
